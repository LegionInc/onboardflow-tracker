<!DOCTYPE html>
<html lang="en" xml:lang="en">
    <head>
        <title>Page View Event with Conversion</title>
        <link rel="stylesheet" href="styles.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/vs.min.css" integrity="sha512-AVoZ71dJLtHRlsgWwujPT1hk2zxtFWsPlpTPCc/1g0WgpbmlzkqlDFduAvnOV4JJWKUquPc1ZyMc5eq4fRnKOQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="onboardflow.js" ></script>
        <script>
            onboardFlowSettings = {
                "site_key": "9O2QlIyX", // Site Key Example
                "user": {
                    "id": "300",        // Your internal User ID for the logged in user
                    "customer_id": "300", // The payment providers Customer ID for the logged in user or internal User ID for the logged in user
                    "email": "300@email.com", // Email address of the logged in user (optional)
                    "image_url": "https://onboardflow-production.s3.amazonaws.com/media/defaults/user_default_image.png", // Profile Image URL of the logged in user (optional)
                    "has_payment_method": "0", // Has the user added a payment card?
                    "subscription": {
                        "name": "level_1", // The name of the plan the user is on
                        "status": "active", // Set to either trialing, active or cancelled
                        "value": 10.0, // The value of the plan
                        "interval": "MONTH", // Set to either DAY, WEEK, MONTH or YEAR
                        "currency": "USD", // I.e. USD, EUR, GBP etc
                        "started_at": 1583020800, // Date the account was created (unix timestamp format required in seconds)
                        "trial_start": 1583020800, // Date the trial started (or is due to start) (unix timestamp format required in seconds)
                        "trial_end": 1585440000 // Date the trial is due to end (unix timestamp format required in seconds)
                    }
                },
                "custom_properties": {
                    "custom_property_one": 100,  // Example value
                    "custom_property_two": 0,  // Example value
                    "custom_property_three": 0 // Example value
                }
            }

            track(onboardFlowSettings)
            getCode(true)
        </script>
    </head>
    <body>
        <ul>
            <li><a href="page_view.html">Page View Event</a></li>
            <li><a href="click.html">Click Event</a></li>
            <li><a href="custom_event.html">Custom Event</a></li>
            <li><a class="active" href="page_view_conversion.html">Page View Event with Conversion</a></li>
        </ul>
        <br />
        <h3>This is a example for Page View event with Conversion</h3>
        <div>
            <p>
                When you access this page, the event "Page View" is registered along with a conversion.
            </p>
            <p>
                To make a customer conversion you must set window.onboardFlowSettings.user.subscription.status to "active" 
                and window.onboardFlowSettings.user.has_payment_method to "1".
            </p>
        </div>
        <br />
        <div id="code">

        </div>
    </body>
</html>